<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
  <title>Dlajah Karya Kreasi</title>
  <style>
  @import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500&display=swap');
  @media (min-width: 768px) {main {max-width: 420px;}}
  body {
    margin: 0;
    padding: 0;
	font-family: 'Ubuntu', sans-serif !important;
	font-weight: 300 !important;
  }
  main {
    width: 100%;
    display: flex;
    overflow: hidden;
	min-height: 100vh;
    align-items: center;
    justify-content: center;
  }
  video {
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	pointer-events: none;
	position: absolute;
  }
  section {
    z-index: 1;
    width: 100%;
	height: 100%;
    display: block;
    position: relative;
    text-align: center;
    justify-content: center;
  }
  h2 {
    color: #0f0;
    font-size: 2.5em;
    text-shadow: 1px 4px 4px #000;
  }
  p {
    color: #fff;
    font-size: 1.3em;
    text-align: justify;
    text-shadow: 1px 4px 4px #000;
  }
  b {
    color: #0ff;
    text-shadow: 1px 4px 4px #000;
  }
  </style>
</head>
<body>
<main class="container m-auto">
  <video autoplay muted loop>
	<source src="bg.mp4" type="video/mp4">
  </video>
  <section class="content mx-2">
    <div id="off">
      <h2>Dlajah<br>Karya Kreasi</h2>
      <p>Menerima Jasa Pengerjaan <b>Interrior & Exterrior</b> dan Jasa Pengerjaan <b>Kontruksi Sipil</b> Lainnya.</p><p>Untuk Informasi & Pertanyaan lebih lengkap, Silakan tinggalkan Pesan disini <b onclick="on()">"click"</b></p>
    </div>
    <div class="footer text-right mt-5"><a href="https://script.google.com/macros/s/AKfycbzAvy_nR0vjGLU0jEPWFEzxjlO63b-9GmjmYLQdaC9vgc9EGbidR5Lw2hczS_OvrA/exec">-</a></div>
    <form class="card" id="on" name="Data" style="display:none">
      <div class="card-header">
        <button type="button" class="btn close" onclick="off()"><span aria-hidden="true">&times;</span></button>
        <strong>Silakan sampaikan Pesan Anda, dan dengan senanghati Kami akan merespon secepatnya</strong>
        <div class="error alert-danger d-none" id="a1" onclick="document.getElementById('a1').style.display=('none');">Pesan Anda gagal terkirim !</div>
        <div class="success alert-success d-none" id="b1" onclick="document.getElementById('b1').style.display=('none');">Pesan Anda berhasil terkirim !</div>
      </div>
      <div class="card-body text-left">
        <div class="row my-1">
          <div class="col-4">
            <label for="name">Nama Lengkap</label>
          </div>
          <div class="col-8">
            <input type="text" name="Nama" id="nama" class="form-control" required/>
          </div>
        </div>
        <div class="row my-1">
          <div class="col-4">
            <label for="telphone">Nomor Telphone</label>
          </div>
          <div class="col-8">
            <input type="tel" name="Telphone" id="telphone" class="form-control" required/>
          </div>
        </div>
        <div class="row my-1">
          <div class="col-4">
            <label for="Pesan">Pesan & Pertanyaan</label>
          </div>
          <div class="col-8">
          <textarea type="text" name="Pesan" id="pesan" class="form-control" rows="5" placeholder="Tulis pesan Anda disini" required></textarea>
          </div>
        </div>
       </div>
       <div class="card-footer">
         <button type="submit" class="save btn btn-sm btn-outline-success w-50">Kirim</button>
         <button class="load btn btn-sm btn-success w-50 d-none"><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Mengirim..</button>
       </div>
    </form>
  </section>
</main>
<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbzAvy_nR0vjGLU0jEPWFEzxjlO63b-9GmjmYLQdaC9vgc9EGbidR5Lw2hczS_OvrA/exec'
  const form = document.forms['Data']
  const save = document.querySelector('.save')
  const load = document.querySelector('.load')
  const success = document.querySelector('.success')
  const error = document.querySelector('.error')

  form.addEventListener('submit', e => {
      e.preventDefault()
      showLoadingIndicator()
      fetch(scriptURL, { method: 'POST', body: new FormData(form)})
        .then(response => showSuccessMessage(response))
        .catch(error => showErrorMessage(error))
  })

  function showLoadingIndicator () {
    save.classList.add('d-none')
    load.classList.remove('d-none')
    }

  function showSuccessMessage (response) {
    console.log('Success!', response)
    setTimeout(() => {
      save.classList.remove('d-none');
      success.classList.remove('d-none');
      load.classList.add('d-none');
        form.reset();
    },1000)
  }

  function showErrorMessage (error) {
    console.error('Error!', error.message)
    setTimeout(() => {
      save.classList.remove('d-none');
      error.classList.remove('d-none');
      load.classList.add('d-none');
    },100)
  }
  
  function on(){
    document.getElementById('off').style.display=('none');
    document.getElementById('on').style.display=('block');
  }
  function off(){
    document.getElementById('off').style.display=('block');
    document.getElementById('on').style.display=('none');
    document.getElementById('a1').style.display=('none');
    document.getElementById('b1').style.display=('none');
  }
</script>
</body>
</html>
